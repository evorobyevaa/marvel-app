{"version":3,"file":"static/js/442.7ea44235.chunk.js","mappings":"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","sources":["components/errorMsg/ErrorMsg.js","components/appBanner/AppBanner.js","components/comicsList/ComicsList.js","components/pages/ComicsPage.js","services/MarvelServece.js","hooks/http.hook.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import img from './error.gif';\r\n\r\nconst ErrorMsg = () => {\r\n  return (\r\n    <img style={{display: 'block', width: '250px', height: '250px', objectFit: 'contain', margin: '0 auto'}} src={img} alt=\"error img\"/>\r\n  )\r\n}\r\n\r\nexport default ErrorMsg;","import './appBanner.scss';\nimport avengers from '../../resources/img/Avengers.png';\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\n\nconst AppBanner = () => {\n  return (\n    <div className=\"app__banner\">\n      <img src={avengers} alt=\"Avengers\"/>\n      <div className=\"app__banner-text\">\n        New comics every week!<br/>\n        Stay tuned!\n      </div>\n      <img src={avengersLogo} alt=\"Avengers logo\"/>\n    </div>\n  )\n}\n\nexport default AppBanner;","import { useState, useEffect } from 'react';\nimport useMarvelService from '../../services/MarvelServece';\nimport { Link } from 'react-router-dom';\n\nimport Spinner from '../spinner/Spinner';\nimport ErrorMsg from '../errorMsg/ErrorMsg';\n\nimport './comicsList.scss';\n\nconst ComicsList = () => {\n\n  const [comicsList, setComicsList] = useState([]);\n  const [newItemLoading, setNewItemLoading] = useState(false);\n  const [offset, setOffset] = useState(0);\n  const [comicsEnded, setComicsEnded] = useState(false);\n\n  const {loading, error, getAllComics} = useMarvelService();\n\n  useEffect(() => {\n    onRequest(offset, true);\n  }, []);\n\n  const onRequest = (offset, initial) => {\n    initial ? setNewItemLoading(false) : setNewItemLoading(true);\n    getAllComics(offset)\n    .then(onComicsListLoaded)\n  }\n\n  const onComicsListLoaded = (newComicsList) => {\n    let ended = false;\n    if (newComicsList.length < 8) {\n      ended = true;\n    }\n    setComicsList([...comicsList, ...newComicsList]);\n    setNewItemLoading(false);\n    setOffset(offset + 8);\n    setComicsEnded(ended);\n  }\n\n  function renderItems (arr) {\n    const items = arr.map((item, i) => {\n      return (\n        <li className=\"comics__item\" key={i}>\n          <Link to={`/comics/${item.id}`}>\n            <img src={item.thumbnail} alt={item.title} className=\"comics__item-img\"/>\n            <div className=\"comics__item-name\">{item.title}</div>\n            <div className=\"comics__item-price\">{item.price}</div>\n          </Link>\n        </li>\n      )\n    })\n\n    return (\n        <ul className=\"comics__grid\">\n            {items}\n        </ul>\n    )\n  }\n\n  const items = renderItems(comicsList);\n  const errorMessage = error ? <ErrorMsg/> : null;\n  const spinner = loading && !newItemLoading ? <Spinner/> : null;\n\n  return (\n    <div className=\"comics__list\">\n      {errorMessage}\n      {spinner}\n      {items}\n      <button \n        className=\"btn btn__long\"\n        disabled={newItemLoading}\n        style={{'display': comicsEnded ? 'none' : 'block'}}\n        onClick={() => onRequest(offset)}>\n        <div className=\"inner\">LOAD MORE</div> \n      </button>\n    </div>\n  )\n}\n\nexport default ComicsList;","import AppBanner from '../appBanner/AppBanner';\r\nimport ComicsList from '../comicsList/ComicsList';\r\n\r\nconst ComicsPage = () => {\r\n  return (\r\n    <>\r\n      <AppBanner/>\r\n      <ComicsList/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ComicsPage;","import {useHttp} from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n  const {loading, error, request, clearError} = useHttp();\r\n\r\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n  const _apiKey = 'apikey=3f1bbb88ac40ae60022fb40c97324675';\r\n  const _baseOffset = 210;\r\n\r\n  const getAllCharacters = async (offset = _baseOffset) => {\r\n    const res = await request(`${_apiBase}/characters?limit=9&offset=${offset}&${_apiKey}`);\r\n    return res.data.results.map(_transformCharacter);\r\n  }\r\n\r\n  const getCharacter = async (id) => {\r\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\r\n    return _transformCharacter(res.data.results[0]);\r\n  }\r\n\r\n  const getAllComics = async (offset = 0) => {\r\n    const res = await request(`${_apiBase}/comics?limit=8&offset=${offset}&${_apiKey}`);\r\n    return res.data.results.map(_transformComics);\r\n  }\r\n\r\n  const getComic = async (id) => {\r\n    const res = await request(`${_apiBase}/comics/${id}?${_apiKey}`);\r\n    return _transformComics(res.data.results[0]);\r\n  }\r\n\r\n  const _transformCharacter = (char) => {\r\n    return {\r\n      id: char.id,\r\n      name : char.name,\r\n      description: char.description ? `${char.description.slice(0, 210)}...` : 'There is no description for this character',\r\n      thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n      homepage: char.urls[0].url,\r\n      wiki: char.urls[1].url,\r\n      comics: char.comics.items\r\n    }\r\n  }\r\n\r\n  const _transformComics = (comics) => {\r\n    return {\r\n      id: comics.id,\r\n      title : comics.title,\r\n      description: comics.description || 'There is no description for this comics',\r\n      pageCount: comics.pageCount ? `${comics.pageCount} pages` : 'No information about the number of pages',\r\n      thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n      language: comics.textObjects.language || 'en-us',\r\n      price: comics.prices[0].price ? `${comics.prices[0].price}$` : 'not available'\r\n    }\r\n  }\r\n\r\n  return {loading, error, clearError, getAllCharacters, getCharacter, getAllComics, getComic};\r\n}\r\n\r\nexport default useMarvelService;","import { useCallback, useState } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type' : 'application/json'}) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(url, {method, body, headers});\r\n\r\n      if(!response.ok) {\r\n        throw new Error(`Could not fetch ${url}, status: ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      setLoading(false);\r\n      return data;\r\n    } catch(e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n      throw e;\r\n    }\r\n  }, [])\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n  return {loading, error, request, clearError}\r\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["style","display","width","height","objectFit","margin","src","img","alt","className","avengers","avengersLogo","useState","comicsList","setComicsList","newItemLoading","setNewItemLoading","offset","setOffset","comicsEnded","setComicsEnded","useMarvelService","loading","error","getAllComics","useEffect","onRequest","initial","then","onComicsListLoaded","newComicsList","ended","length","items","arr","map","item","i","to","id","thumbnail","title","price","renderItems","errorMessage","ErrorMsg","spinner","Spinner","disabled","onClick","setLoading","setError","request","useCallback","url","method","body","headers","fetch","response","ok","Error","status","json","data","message","clearError","useHttp","_apiBase","_apiKey","getAllCharacters","res","results","_transformCharacter","getCharacter","_transformComics","getComic","char","name","description","slice","path","extension","homepage","urls","wiki","comics","pageCount","language","textObjects","prices","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}